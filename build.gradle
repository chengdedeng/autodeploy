apply plugin: 'java'
apply plugin: 'idea'
apply plugin: 'groovy'
apply plugin: 'fatjar'

sourceCompatibility = 1.7
version = '1.0'

repositories {
    mavenCentral()
}

//fatJar {
//    classifier 'fat'
//
//    // We need to add the main class to the manifest, otherwise the JAR won't start.
//    manifest {
//        attributes 'Main-Class': 'info.yangguo.demo.script.Test'
//    }
//
//    // We have to exclude signature files from the fat JAR, otherwise we'll get invalid signature file digest errors.
//    exclude 'META-INF/*.DSA', 'META-INF/*.RSA', 'META-INF/*.SF'
//}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.11'
    compile 'ch.ethz.ganymed:ganymed-ssh2:262'
    compile 'com.jcraft:jsch:0.1.53'
    compile 'commons-io:commons-io:2.4'
    compile "org.codehaus.groovy:groovy-all:2.4.4"
    compile 'com.google.guava:guava:19.0-rc1'
}

buildscript {
    repositories {
        mavenCentral()
    }

    dependencies {
        classpath 'eu.appsatori:gradle-fatjar-plugin:0.2'
    }
}

sourceSets {
    test {
        java.srcDirs = ['src/main/java', 'src/test/java']
        groovy.srcDirs = ['src/main/groovy', 'src/test/groovy']
    }
}